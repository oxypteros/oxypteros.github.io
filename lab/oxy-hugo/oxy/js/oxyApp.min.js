"use strict";let supportCSS=CSS.supports("color","var(--bgc)");if(supportCSS=!0){{const n=window.matchMedia("(prefers-color-scheme: dark)").matches;let e=localStorage.getItem("oxy-theme");e==="dark"&&document.body.classList.toggle("oxy-dark"),e===null&&n===!0&&(document.body.classList.toggle("oxy-dark"),localStorage.setItem("oxy-theme","dark"));const t=document.querySelector(".btnThemeJs");if(t){function changeOxyTheme(){let e=localStorage.getItem("oxy-theme");e==="dark"?(document.body.classList.toggle("oxy-dark"),localStorage.setItem("oxy-theme","light")):(document.body.classList.toggle("oxy-dark"),localStorage.setItem("oxy-theme","dark"))}t.addEventListener("click",changeOxyTheme)}}}else btnTheme.classList.add("hidden");const bookmarkBtn=document.querySelector(".bookmarkBtnJs"),storyUrl=window.location.href,bookmarkSvg=document.querySelector(".svg-bookmark-icon");if(localStorage.getItem(storyUrl)!=null){let e=localStorage.getItem(storyUrl);e&&(window.scrollTo(0,e),bookmarkSvg.classList.add("bookmarked"))}function addBookmark(){let e=window.pageYOffset;localStorage.setItem(storyUrl,e),bookmarkSvg.classList.add("bookmarked")}bookmarkBtn.addEventListener("click",addBookmark);const pi=document.querySelector(".pi");if(pi){let e=document.querySelector(".ins");pi.addEventListener("click",function(t){const o=window.location.href;let n=`/Gatekeeper/WORP.html`,s='<div class="alert-card-wrapper flec center alertJs"><div class="alert-card flec"><h2 class="alert-h2">Access Denied</h2><p class="alert-p">"You know nothing John Snow"</p><p>Try again... <br>With a keyboard this time. üòâ </p><button class="alert-btn flex center alertBtnJs">OK</button></div></div>';o.includes("/el/")&&(n=`/secret/el/winner`,s='<div class="alert-card-wrapper flec center alertJs"><div class="alert-card flec"><h2 class="alert-h2">Œ£œÜŒ¨ŒªŒºŒ± Œ†œÅœåœÉŒ≤Œ±œÉŒ∑œÇ</h2><p class="alert-p">"You know nothing John Snow"</p><p>ŒäœÉœâœÇ ŒΩŒ± Œ¥ŒøŒ∫ŒØŒºŒ±Œ∂ŒµœÇ Œ∫Œ±Œπ ŒºŒµ œÄŒªŒ∑Œ∫œÑœÅŒøŒªœåŒ≥ŒπŒø; üòâ </p><button class="alert-btn flex center alertBtnJs">OK</button></div></div>'),t.ctrlKey&&t.shiftKey||t.metaKey&&t.shiftKey?window.location.href=n:e.insertAdjacentHTML(`beforeend`,s);const i=document.querySelector(".alertBtnJs");i.addEventListener("click",()=>{if(e){let t=document.querySelector(".alertJs");e.removeChild(t)}})})}

// Open close dot menu
const dotMenuBtn = document.querySelector('.dotMenuBtnJs')
if(dotMenuBtn){
  const showDotMenu = document.querySelector('.stories-menu')
  const closeDotMenu = document.querySelector('.closeDotMenuJs')
  dotMenuBtn.addEventListener("click",()=>{
    showDotMenu.classList.toggle('hidden')
  })
  closeDotMenu.addEventListener("click", ()=>{
    showDotMenu.classList.toggle('hidden')
  })
}
const markerBtn = document.querySelector('.markerBtnJs')
if(markerBtn) {
  let marker = '<div class="marker flex center markerJs"><div class="circle"></div><div class="line"></div><div class="circle"></div></div>';
  let insMarker = document.querySelector('.ins-marker')
  function toggleMarker(){
    let checkMarker = document.querySelector('.marker')
    let markerStatus = 0;
    if (!checkMarker){
      console.log('1 ' + checkMarker)
      insMarker.insertAdjacentHTML('beforeend', marker)
      document.querySelector(".toggle-icon").setAttribute('href', '#icon-switch-on')
      
    } else if (checkMarker){
      let markerJs = document.querySelector('.markerJs')
      insMarker.removeChild(markerJs)
      document.querySelector(".toggle-icon").setAttribute('href', '#icon-switch-off')
      console.log('2 ' + checkMarker)
    }
    console.log('prerun ' + markerStatus)
    //if(checkMarker){
        //insMarker.removeChild(marker)
    //}
    /*if (markerStatus === 1){
    insMarker.insertAdjacentHTML(`beforeend`, marker);
    markerStatus = 1;
    console.log('0 ' + markerStatus)
      
    } else if(markerStatus === 0){
      let markerClass = document.querySelector('.marker')
      console.log('1' + markerStatus);
      insMarker.removeChild()
      markerStatus = 0;
    }
    */
  
  }
  markerBtn.addEventListener('click', toggleMarker);
  
}
const readerBtn = document.querySelector('.readerBtnJs')
console.log(document.fullscreenElement)
function toggleFullScreen() {
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen();
  } else if (document.exitFullscreen) {
    document.exitFullscreen();
  }
}
var elem = document.documentElement;

/* View in fullscreen */
function openFullscreen() {
  if (elem.requestFullscreen) {
    elem.requestFullscreen();
  } else if (elem.webkitRequestFullscreen) { /* Safari */
    elem.webkitRequestFullscreen();
  } else if (elem.msRequestFullscreen) { /* IE11 */
    elem.msRequestFullscreen();
  }
}
readerBtn.addEventListener('click', openFullscreen)